 <div class="ui container">
  <h1>View Data</h1>

  <div class="ui labels filter-label-group">
    <a class="ui {{if showPlaces 'inverted tdi-blue' 'filters-label'}} even-spaced large label" onclick={{action (mut showPlaces) (not showPlaces)}}>
      Places
    </a>
    <a class="ui {{if showInvestments 'inverted tdi-blue' 'filters-label'}} even-spaced large label" onclick={{action (mut showInvestments) (not showInvestments)}}>
      Investments
    </a>
    <a class="ui {{if showParcels 'inverted tdi-blue' 'filters-label'}} even-spaced large label" onclick={{action (mut showParcels) (not showParcels)}}>
      Parcels
    </a>
  </div>

  {{#if (and (not showPlaces) (not showInvestments) (not showParcels))}}
    <h5 class="ui disabled header">
      <i class="ui reply rotated right icon"></i>
      <div class="content">
        Select a Filter Above
      </div>
    </h5>
  {{/if}}

  {{#ui-accordion}}
    {{#if cc.showFeatures}}
      <div class="tdi-semi-bold active title">
        <i class="dropdown icon"></i>
        Places Filters
      </div>
      <div class="active content">
        <div class="ui basic segment">
          <h4 class="ui header">Place Status</h4>
          <div class="ui filter-label-group labels">
            <a class="ui {{if cc.is_employer 'inverted tdi-blue' 'filters-label'}} even-spaced label" onclick={{action (mut cc.is_employer) (not cc.is_employer)}}>Employer</a> 
             <a class="ui {{if cc.is_street_activating 'inverted tdi-blue' 'filters-label'}} even-spaced label" onclick={{action (mut cc.is_street_activating) (not cc.is_street_activating)}}>Street Activating</a> 
            <a class="ui {{if cc.is_collision_point 'inverted tdi-blue' 'filters-label'}} even-spaced label" onclick={{action (mut cc.is_collision_point) (not cc.is_collision_point)}}>Community Hub</a> 
            {{#if session.isAuthenticated}}
              <a class="ui {{if cc.is_tdi_asset 'inverted tdi-blue' 'filters-label'}} even-spaced label" onclick={{action (mut cc.is_tdi_asset) (not cc.is_tdi_asset)}}>TDI Asset</a> 
              <a class="ui {{if cc.is_feature_owner_engaged 'inverted tdi-blue' 'filters-label'}} even-spaced label" onclick={{action (mut cc.is_feature_owner_engaged) (not cc.is_feature_owner_engaged)}}>Owner Engaged</a> 
            {{/if}}
          </div>
        </div>
        <div class="ui basic segment">
          <h4 class="ui header">
            Place Types
          </h4>
          <div class="ui equal width grid">
            {{#each (chunk 8 cc.assetTypeOptions) as |group|}}
              <div class="column">
                {{#each group as |option|}}
                  <div class="ui vertical list">
                    {{#ui-checkbox 
                      class="item"
                      checked=(array-contains cc.assetTypesArray option)
                      onChange=(action 'composeList' option 'assetTypes' target=cc)}}
                      <img src="/images/icons/features/filters/{{dasherize option}}.png" class="ui avatar image" /> 
                      <span>{{option}}</span>
                    {{/ui-checkbox}}
                  </div>
                {{/each}}
              </div>
            {{/each}}
          </div>
        </div>
      </div>
    {{/if}}

    {{#if cc.showInvestments}}
      <div class="ui tdi-blue divider"></div>
      <div class="tdi-semi-bold active title">
        <i class="dropdown icon"></i>
        Investments Filters
      </div>
      <div class="active content">
        <div class="ui basic segment">
          <h4 class="ui header">
            Investment Types
          </h4>
          <div class="ui vertical list">
            <div class="ui equal width grid">
              {{#each (chunk 2 cc.investmentTypeOptions) as |group|}}
                <div class="column">
                  {{#each group as |option|}}
                    {{#ui-checkbox 
                      class="item"
                      checked=(array-contains cc.investmentTypesArray option)
                      onChange=(action 'composeList' option 'investmentTypes' target=cc)}}
                      <img src="/images/icons/investments/{{dasherize option}}.png" /> 
                      {{option}}
                    {{/ui-checkbox}}
                  {{/each}}
                </div>
              {{/each}}
            </div>
            {{#if session.isAuthenticated}}
              {{ui-checkbox 
                label='TDI Influenced' 
                class="item"
                checked=cc.is_tdi_influenced
                onChange=(action (mut cc.is_tdi_influenced (not cc.is_tdi_influenced)))}}
            {{/if}}
          </div>
          <h4 class="ui header">
            Investment Statuses
          </h4>
          <div class="ui horizontal list">
            {{#each cc.investmentStatusesOptions as |option|}}
              {{ui-checkbox 
                label=option 
                class="item"
                checked=(array-contains cc.investmentStatusesArray option)
                onChange=(action 'composeList' option 'investmentStatuses' target=cc)}}
            {{/each}}
          </div>
          <h4 class="ui header">
            Investment Source
          </h4>
          <div class="ui horizontal list">
            {{#each cc.investmentSourcesOptions as |option|}}
              {{#ui-checkbox 
                class="item"
                checked=(array-contains cc.investmentSourcesArray option)
                onChange=(action 'composeList' option 'investmentSources' target=cc)}}
                <img src="/images/icons/investments/badge/{{lowercase option}}.png" /> 
                {{option}}
              {{/ui-checkbox}}
            {{/each}}
          </div>
          <h4 class="ui header">
            Investment Value
          </h4>
          <div class="ui basic segment">
{{!--             {{range-slider start=(array cc.valueMin cc.valueMax)
                           range=(hash min=cc.amountsMin max=cc.amountsMax)
                           tooltips=cc.tooltipsConfig
                           connect=true
                           step=1
                           on-change=(action "updateRanges" target=cc) }} --}}
          </div>
        </div>
      </div>
    {{/if}}

    {{#if cc.showParcels}}
      <div class="ui tdi-blue divider"></div>
      <div class="tdi-semi-bold active title">
        <i class="dropdown icon"></i>
        Parcels Filters
      </div>
      <div class="active content">
        <h4 class="ui header">Symbolize Map</h4>
        <div class="ui equal width grid">
          <div class="column">
            <div class="ui labels flex-direction-column filter-label-group">
              {{#each cc.parcelChoroplethSets as |colorSet|}}
                <a class="ui {{if (eq colorSet cc.choroplethLayer) 'inverted tdi-blue' 'filters-label'}} even-spaced label" {{action 'changeProperty' 'choroplethLayer' colorSet target=cc}}>
                  {{colorSet}}
                </a> 
              {{/each}}
            </div>
          </div>
          <div class="column" style="background-color: #E1F5F5;">
            {{#with (find-by 'setName' cc.choroplethLayer cc.parcelChoroplethConfig) as |set|}}
              Key - {{set.setName}}
              {{#if set}}
                <div class="ui labels">
                  {{#each set.colorMap as |item|}}
                    <div class="ui large label legend">
                      <i class="square icon" style="color: {{item.color}}"></i>
                      {{if (eq (attribute-type item.value) 'boolean') (humanize-string item.key) item.value}}
                    </div>
                  {{/each}}
                </div>
              {{/if}}
            {{/with}}
          </div>
        </div>
        <div class="ui equal width grid">
          <div class="column">
            <h4 class="ui header">
              Land Use Type
            </h4>
            <div class="ui vertical list">
              {{#each cc.landuseTypeOptions as |option|}}
                {{ui-checkbox 
                  label=option
                  class="item"
                  checked=(array-contains cc.landuseTypesArray option)
                  onChange=(action 'composeList' option 'landuseTypes' target=cc)}}
              {{/each}}
            </div>
            <h4 class="ui header">
              Tenure Status
            </h4>
            <div class="ui vertical list">
              {{ui-checkbox label="For Lease" class="item" checked=cc.forLease onChange=(action (mut cc.forLease) target=cc)}}
              {{ui-checkbox label="For Sale" class="item" checked=cc.forSale onChange=(action (mut cc.forSale) target=cc)}}
            </div>
            <h4 class="ui header">
              Engaged Owner
            </h4>
            <div class="ui vertical list">
              {{ui-checkbox label="Engaged" class="item" checked=cc.isEngagedOwner onChange=(action (mut cc.isEngagedOwner) target=cc)}}
            </div>
          </div>
          <div class="column">
            <h4 class="ui header">
              Ownership Statuses
            </h4>
            <div class="ui vertical list">
              {{#each cc.OwnershipTypesOptions as |option|}}
                {{ui-checkbox 
                  label=option
                  class="item"
                  checked=(array-contains cc.OwnershipTypesArray option)
                  onChange=(action 'composeList' option 'OwnershipTypes' target=cc)}}
              {{/each}}
            </div>
            <h4 class="ui header">
              Ground Floor Vacancy
            </h4>
            <div class="ui vertical list">
              {{#each cc.GFVacancyStatusesOptions as |option|}}
                {{ui-checkbox 
                  label=option
                  class="item"
                  checked=(array-contains cc.GFVacancyStatusesArray option)
                  onChange=(action 'composeList' option 'GFVacancyStatuses' target=cc)}}
              {{/each}}
            </div>
            <h4 class="ui header">
              Upper Level Vacancy
            </h4>
            <div class="ui vertical list">
              {{#each cc.UFVacancyStatusesOptions as |option|}}
                {{ui-checkbox 
                  label=option
                  class="item"
                  checked=(array-contains cc.UFVacancyStatusesArray option)
                  onChange=(action 'composeList' option 'UFVacancyStatuses' target=cc)}}
              {{/each}}
            </div>
          </div>
        </div>
      </div>
    {{/if}}
  {{/ui-accordion}}
  {{tabbed-results  visibleFeatures     = cc.visibleFeatures 
                    showFeatures        = cc.showFeatures
                    visibleInvestments  = cc.visibleInvestments
                    showInvestments     = cc.showInvestments 
                    maxInvestments      = cc.maxInvestments   
                    visibleParcels      = cc.visibleParcels
                    showParcels         = cc.showParcels}}
</div>
